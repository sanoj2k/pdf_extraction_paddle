1.
prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories: Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  
        If none of the categories apply, return "NA".  

        ### Category Definitions (for common misclassifications):  
        - **Most priority** -If the doucment contains any of the categories which exactly matches the predefined categories, return the category name, no need to go the context of the document**
        - **Exposé**: A real estate listing that describes a property, including price, location, amenities, and features. It often includes descriptive text about the house, surrounding area, and selling points.  
        - **Grundriss**: A floor plan showing architectural layouts, rooms, and measurements. It mainly consists of structural details and diagrams rather than descriptive text.  
        - **Teilungserklarung**: A declaration document related to dividing property ownership, often used in legal and real estate contexts.  
        - **Kaufvertragsentwurf: A legal document related to real estate transactions, including purchase contracts, notarization, and agreements between buyer and seller. If the text mentions a property sale, a notary, and legal terms like "Kaufvertrag", classify it here.
        - 
        ### Instructions:  
        1. **If the document contains property descriptions (e.g., price, amenities, nearby locations, and a general property summary), classify it as "Exposé".**  
        2. **If the document mainly contains diagrams or structured dimensions of rooms, classify it as "Grundriss".**  
        3. **If the document relates to property division agreements, classify it as "Teilungserklarung".**  
        4. **If the text does not fit any category, return "NA".**  
        5. **If the document is a legal agreement regarding property transactions, classify it as "Kaufvertragsentwurf".**
        6. **When responding, always standardize the category name to the exact form in the predefined categories list, e.g., return 'Teilungserklarung' instead of 'Teilungserklärung'.**


        **Text (in German):** {text[:1000]}  

        **Response format: Only return the category name, nothing else. If there is no exact match, return "NA".**  

        """

2.
prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories:  
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

        If none of the categories apply, return "NA".  

        ### Category Selection Rules:  
        1. **Exact Match Priority**:  
        - If the document explicitly contains a term that directly matches one of the predefined categories (e.g., "Grundbuchauszug" or "Energieausweis"), return that category **immediately**, without considering the document’s context.  

        2. **Contextual Classification (Only if No Exact Match Found):**  
        - **Exposé** → A **real estate listing** describing property price, location, amenities, and features.  
        - **Grundriss** → A **floor plan** with architectural layouts, measurements, and diagrams.  
        - **Teilungserklarung** → A **property division agreement** in legal/real estate contexts.  
        - **Kaufvertragsentwurf** → A **real estate contract** (mentions "Kaufvertrag", notary, buyer/seller).  

        3. **Identity Documents Rule:**  
        - **Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if there is a direct, explicit mention of these terms in the document.**  
        - **DO NOT infer these categories based on names, dates, or legal mentions alone.**  

        4. **Standardization:**  
        - Always return the category name in the exact predefined form (e.g.,  **"Teilungserklarung" instead of "Teilungserklärung"**).  

        **Text (in German):** {text[:1000]}  

        **Response format: Return only the category name, nothing else. If there is no exact match, return "NA".**  


3. giving better result for aristel, Kaufvertra, expose, Energieausweis
prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories:  
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

        If none of the categories apply, return "NA".  

        ### Category Selection Rules:  
        1. **Exact Match Priority**:  
        - If the document explicitly contains a term that directly matches one of the predefined categories (e.g., "Grundbuchauszug" or "Energieausweis"), return that category **immediately**, without considering the document’s context.  

        2. **Contextual Classification (Only if No Exact Match Found):**  
        - **Exposé** → A **real estate listing** If the document contains property descriptions (e.g., price, amenities, nearby locations, and a general property summary) along with energy efficiency details, it should still be classified as 'Exposé' unless the sole focus is energy consumption and ratings."
        - **Grundriss** → A **floor plan** with architectural layouts, measurements, and diagrams.  
        - **Teilungserklarung** → A **property division agreement** in legal/real estate contexts.  
        - **Kaufvertragsentwurf** → A **real estate contract** (mentions "Kaufvertrag", notary, buyer/seller).  

        3. **Identity Documents Rule:**  
        - **Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if there is a direct, explicit mention of these terms in the document.**  
        - **DO NOT infer these categories based on names, dates, or legal mentions alone.**  

        4. **Standardization:**  
        - Always return the category name in the exact predefined form (e.g.,  **"Teilungserklarung" instead of "Teilungserklärung"**).  

        **Text (in German):** {text[:1000]}  

        **Response format: Return only the category name, nothing else. If there is no exact match, return "NA".**  
"""

4.
prompt = f"""
The following text is extracted from a document. Identify the category from the predefined categories:  
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

If none of the categories apply, return "NA".  

### Category Selection Rules:  
1. **Exact Match Priority**:  
   - If the document explicitly contains a term that directly matches one of the predefined categories (e.g., "Grundbuchauszug" or "Energieausweis"), return that category **immediately**, without considering the document’s context.  

2. **Contextual Classification (Only if No Exact Match Found):**  
   - **Exposé** → A **real estate listing**.  
     - If the document contains property descriptions (e.g., price, amenities, nearby locations, and a general property summary) along with energy efficiency details, classify it as **"Exposé"**.  
     - If the document **only contains energy efficiency details and consumption ratings**, classify it as **"Energieausweis"**, not "Exposé".  

   - **Grundriss** (Floor Plan) vs. **Baubeschreibung** (Construction Description):  
     - If the text contains **"floor plan", "site plan", "overview", "room layout"**, classify it as **"Grundriss"**.  
     - If the text contains **"construction description", "structural work", "foundations", "roof", "construction", "materials"**, classify it as **"Baubeschreibung"**.  
     - If both terms exist, prioritize **"Baubeschreibung"** if it contains detailed construction elements.  

   - **Teilungserklarung** → A **property division agreement** in legal/real estate contexts.  
   - **Kaufvertragsentwurf** → A **real estate contract** (mentions "Kaufvertrag", notary, buyer/seller).  

3. **Identity Documents Rule:**  
   - **Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if there is a direct, explicit mention of these terms in the document.**  
   - **DO NOT infer these categories based on names, dates, or legal mentions alone.**  

4. **Standardization:**  
   - Always return the category name in the exact predefined form (e.g., **"Teilungserklarung" instead of "Teilungserklärung"**).  

**Text (in German):** {text[:1500]}  

**Response format: Return only the category name, nothing else. If there is no exact match, return "NA".**  
"""


5.
prompt = f"""
The following text is extracted from a document. Identify the category from the predefined categories:  
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

If none of the categories apply, return "NA".  

### Category Selection Rules:  
1. **Exact Match Priority (With OCR Error Handling):**  
- If the document explicitly contains a term that directly matches or closely resembles one of the predefined categories (e.g., **"Grundbuchauszug"** or possible OCR errors like **"Grundbucchauszug"**), return that category **immediately** without considering the document’s context.  
- Consider common OCR variations, such as:  
    - **"Aufenthantstitel"**, **"AufenthantstiteI"** → **"Aufenthaltstitel"**  
    - **"Baubeschreihbung"** → **"Baubeschreibung"**  
    - **"Grundrizz"** → **"Grundriss"**  

2. **Contextual Classification (Only if No Exact Match Found):**  
- **Exposé** → A **real estate listing**.  
    - If the document contains property descriptions (e.g., price, amenities, nearby locations, and a general property summary), classify it as **"Exposé"**.  
    - If the document **only contains energy efficiency details and consumption ratings**, classify it as **"Energieausweis"**, not **"Exposé"**.  

- **Grundriss** (Floor Plan) vs. **Baubeschreibung** (Construction Description):  
    - If the text contains **"floor plan"**, **"site plan"**, **"overview"**, or **"room layout"**, classify it as **"Grundriss"**.  
    - If the text contains **"construction description"**, **"structural work"**, **"foundations"**, **"roof"**, **"construction"**, or **"materials"**, classify it as **"Baubeschreibung"**.  
    - If both terms exist, prioritize **"Baubeschreibung"** if it contains detailed construction elements.  

- **Teilungserklarung** → A **property division agreement** in legal/real estate contexts.  
- **Kaufvertragsentwurf** → A **real estate contract** (mentions **"Kaufvertrag"**, notary, buyer/seller).  

3. **Identity Documents Rule:**  
- **Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if there is a direct, explicit mention of these terms in the document, even if OCR errors are present.**  
- **Do not infer these categories based on names, dates, or legal mentions alone.**  

4. **Standardization:**  
- Always return the category name in the exact predefined form (e.g., **"Teilungserklarung"** instead of **"Teilungserklärung"**).  

**Text (in German):** {text[:1500]}  

**Response format: Return only the category name, nothing else. If there is no exact match, return "NA".**  
"""

6.
prompt = f"""
The following text is extracted from a document. Identify the category from the predefined categories:
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

If none of the categories apply, return "NA".

Category Selection Rules:
1. Exact Match Priority (With OCR Error Handling in First 50 Words):
If the document explicitly contains a term that directly matches or closely resembles one of the predefined categories (e.g., "Grundbuchauszug" or possible OCR errors like "Grundbucchauszug") within the first 50 words, return that category only if the surrounding context supports the classification.
Consider common OCR variations, such as:
"Aufenthantstitel", "AufenthantstiteI" → Aufenthaltstitel
"Baubeschreihbung" → Baubeschreibung
"Grundrizz" → Grundriss
2. Contextual Classification (Priority for Exposé):
Exposé → A real estate listing.

If the document contains property descriptions (e.g., price, amenities, agent contact, nearby locations, or a general property summary), classify it as Exposé even if terms like Grundriss appear elsewhere.
If the document only contains energy efficiency details and consumption ratings, classify it as Energieausweis, not Exposé.
Grundriss (Floor Plan) vs. Baubeschreibung (Construction Description):

If the text contains terms like "floor plan", "site plan", "overview", or "room layout", classify it as Grundriss only if it lacks detailed property descriptions.
If the text contains "construction description", "structural work", "foundations", "roof", "construction", or "materials", classify it as Baubeschreibung.
If both terms are present, prioritize Baubeschreibung if it contains detailed construction elements.
Teilungserklarung → A property division agreement in legal/real estate contexts.

Kaufvertragsentwurf → A real estate contract (mentions "Kaufvertrag", notary, buyer/seller).

3. Identity Documents Rule:
Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if there is a direct, explicit mention of these terms, even if OCR errors are present.
Do not infer these categories based on names, dates, or legal mentions alone.
4. Standardization:
Always return the category name in the exact predefined form (e.g., Teilungserklarung instead of Teilungserklärung).
Text (in German): {text[:1500]}

Response format: Return only the category name, nothing else. If there is no exact match, return "NA".
"""
7...

promt= f"""
The following text is extracted from a document. Identify the category from the predefined categories:
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

If none of the categories apply, return "NA".

Category Selection Rules:
1. Exact Match Priority (With OCR Error Handling):
If the document explicitly contains a term that directly matches or closely resembles one of the predefined categories, return that category immediately without considering the document’s context.
Handle common OCR variations, including:
"AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
"Baubeschreihbung" → "Baubeschreibung"
"Grundrizz", "Grundrizz", "Grunriss" → "Grundriss"
2. Contextual Classification (Priority for Exposé):
Exposé → A real estate listing:

If the document contains property descriptions (e.g., price, amenities, agent contact, nearby locations, or a general property summary), classify it as Exposé even if terms like Grundriss appear elsewhere.
If the document only contains energy efficiency details and consumption ratings, classify it as Energieausweis, not Exposé.
Grundriss (Floor Plan) vs. Baubeschreibung (Construction Description):

If the text contains "floor plan", "site plan", "overview", or "room layout", classify it as Grundriss unless detailed property descriptions are present.
If terms like "construction description", "structural work", "foundations", "roof", "construction", or "materials" are mentioned, classify it as Baubeschreibung.
If both appear, prioritize Baubeschreibung if it contains detailed construction elements.
Kaufvertragsentwurf → A real estate contract:

If terms like "Kaufvertrag", "Notar", "Verkäufer", or "Käufer" (buyer/seller) are present, classify it as Kaufvertragsentwurf.
If both Grundbuchauszug and Kaufvertragsentwurf terms appear:
Prioritize Kaufvertragsentwurf if the document contains legal clauses or structured contract sections (e.g., "$1 Grundbuchstand" or "§ 2 Kauf").
Otherwise, classify as Grundbuchauszug if the document primarily lists property ownership and registration details.
3. Identity Documents Rule:
Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if the document directly mentions these terms (even with OCR errors).
Do not infer these categories based on personal details like names, dates, or legal mentions alone.
4. Standardization:
Always return the category name in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

{text[:1500]}  
Response format: Return only the category name, nothing else. If there is no exact match, return "NA".
"""

8.
prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories:
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

        If none of the categories apply, return "NA".

        Category Selection Rules:
        1. Exact Match Priority (With OCR Error Handling):
        If the document explicitly contains a term that directly matches or closely resembles one of the predefined categories, return that category immediately without considering the document’s context.
        Handle common OCR variations, including:
        "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
        "Baubeschreihbung" → "Baubeschreibung"
        "Grundrizz", "Grundrizz", "Grunriss" → "Grundriss"
        "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"
        2. Contextual Classification (Priority for Exposé):
        Exposé → A real estate listing:

        If the document contains property descriptions (e.g., price, amenities, agent contact, nearby locations, or a general property summary), classify it as Exposé even if terms like Grundriss appear elsewhere.
        If the document only contains energy efficiency details and consumption ratings, classify it as Energieausweis, not Exposé.
        Grundriss (Floor Plan) vs. Baubeschreibung (Construction Description):

        If the text contains "floor plan", "site plan", "overview", or "room layout", classify it as Grundriss unless detailed property descriptions are present.
        If terms like "construction description", "structural work", "foundations", "roof", "construction", or "materials" are mentioned, classify it as Baubeschreibung.
        If both appear, prioritize Baubeschreibung if it contains detailed construction elements.
        Kaufvertragsentwurf → A real estate contract:

        If the document contains terms like "Kaufvertrag", "Notar", "Verkäufer", or "Käufer" (buyer/seller), and legal clauses or sections (e.g., "§ 1 Grundbuchstand" or "§ 2 Kauf"), classify it immediately as Kaufvertragsentwurf, even if property details suggest an Exposé.
        Prioritize Kaufvertragsentwurf if the document contains legal clauses or structured contract sections (e.g., "$1 Grundbuchstand" or "§ 2 Kauf").
        Otherwise, classify as Grundbuchauszug if the document primarily lists property ownership and registration details.
        3. Identity Documents Rule:
        Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if there is a direct, explicit mention of these exact terms (even with OCR variations).  
        Ignore mentions of identification verification (e.g., "ausgewiesen durch") unless these exact terms appear.

        4. Standardization:
        Always return the category name in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

        {text}  
        Response format: Return only the category name, nothing else. If there is no exact match, return "NA".

        """

9.

prompt = f"""
The following text is extracted from a document. Identify the category from the predefined categories:
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

If none of the categories apply, return "NA".

Category Selection Rules:
1. Exact Match Priority (With OCR Error Handling):
If the document explicitly contains a term that directly matches or closely resembles one of the predefined categories, return that category immediately without considering the document’s context.
Handle common OCR variations, including (case-insensitive):
- "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
- "Baubeschreihbung" → "Baubeschreibung"
- "Grundrizz", "Grundrizz", "Grunriss" → "Grundriss"
- "ENERGIEAUSWEIS", "ENERGIEAUSWEI5", "ENERGIE AUSWEIS", "EN ERGIEAUSWEIS", "ENERGIEAUSWElS" → "Energieausweis"

2. Contextual Classification (Priority for Exposé):
- Exposé → A real estate listing:
If the document contains property descriptions (e.g., price, amenities, agent contact, nearby locations, or a general property summary), classify it as Exposé even if terms like Grundriss appear elsewhere.
- If the document only contains energy efficiency details and consumption ratings, classify it as Energieausweis, not Exposé.

3. Grundriss (Floor Plan) vs. Baubeschreibung (Construction Description):
- If the text contains only terms like "floor plan", "site plan", "overview", or "room layout", classify it as Grundriss.
- If the text contains any construction-related terms such as "construction description", "structural work", "foundations", "roof", "construction", or "materials", classify it as Baubeschreibung, even if floor plan terms are present.
- If the text contains both Grundriss and Baubeschreibung terms, prioritize Baubeschreibung due to the detailed construction elements.
- Only classify as Grundriss if construction details are completely absent.

4. Kaufvertragsentwurf → A real estate contract:
- If the document contains terms like "Kaufvertrag", "Notar", "Verkäufer", or "Käufer" (buyer/seller), and legal clauses or sections (e.g., "§ 1 Grundbuchstand" or "§ 2 Kauf"), classify it immediately as Kaufvertragsentwurf, even if property details suggest an Exposé.
- Prioritize Kaufvertragsentwurf if the document contains legal clauses or structured contract sections.

5. Identity Documents Rule:
Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if there is a direct, explicit mention of these exact terms (even with OCR variations).
Ignore mentions of identification verification (e.g., "ausgewiesen durch") unless these exact terms appear.

6. Standardization:
Always return the category name in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

{text[:2000]}

Response format: Return only the category name, nothing else. If there is no exact match, return "NA".
"""

#
10.
The following text is extracted from a document. Identify the category from the predefined categories:
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

If none of the categories apply, return "NA".

### Category Selection Rules:

1. **Exact Match (With OCR Error Handling):**  
   If the document explicitly contains a term that matches or closely resembles one of the predefined categories, return that category immediately. Handle common OCR variations:
   - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
   - "Baubeschreihbung" → "Baubeschreibung"
   - "Grundrizz", "Grundrizz", "Grunriss" → "Grundriss"
   - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"

2. **Contextual Classification:**  
   - **Exposé:** Prioritize this if the text primarily contains **property descriptions** (price, amenities, agent contact, nearby locations).  
   - **Baubeschreibung:** Prioritize this if detailed **construction elements** like *Bauweise, Dacheindeckung, Fenster, Heizung, Fußböden* are mentioned extensively.  
   - If both are present, classify based on **dominant focus**:
     - **Exposé** if property descriptions dominate.
     - **Baubeschreibung** if technical construction details dominate.

3. **Grundriss:**  
   - Classify only if the document focuses mainly on **layout, room distribution, or site plans** without extensive property or construction details.

4. **Identity Documents:**  
   - Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if the exact term (or its OCR variant) explicitly appears.

5. **Standardization:**  
   - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

{text[:1500]}  
Response format: Return only the category name, nothing else. If no match, return "NA".

11.
prompt = f"""
    The following text is extracted from a document. Identify the category from the predefined categories:
    Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

    If none of the categories apply, return "NA".

    ### Category Selection Rules:

    1. **Exact Match (With OCR Error Handling):**  
       If the document explicitly contains a term that matches or closely resembles one of the predefined categories, return that category immediately. Handle common OCR variations:
       - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
       - "Baubeschreihbung" → "Baubeschreibung"
       - "Grundrizz", "Grundrizz", "Grunriss" → "Grundriss"
       - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"

    2. **Flurkarte (Cadastral Map) Prioritization:**  
       - If the text includes **land registry or mapping references**, classify it as **Flurkarte** immediately.
       - **Key terms to trigger Flurkarte classification:**  
         - `"Flurkarte"`, `"Liegenschaftskataster"`, `"Flurstück"`, `"Geobasisdaten"`, `"Digitale Flurkarte"`, `"Katasteramt"`, `"ALKIS"`
       - Ignore property descriptions or construction details if the dominant focus is land parcel information.

    3. **Baubeschreibung (Construction Description) Priority:**  
       - Classify as **Baubeschreibung** if the text contains detailed construction terms like:
         - `"Bauweise"`, `"Dacheindeckung"`, `"Fenster"`, `"Heizung"`, `"Fußböden"`, `"Rohbau"`, `"Fundamente"`, `"Decke"`, `"Dach"`, `"Wärmedämmung"`, `"Estrich"`

    4. **Grundriss (Floor Plan) Handling:**  
       - If the text describes **layout, room distribution, or measurements** but lacks construction details, classify it as **Grundriss**.

    5. **Other Documents:**  
       - Identity documents (Passport, Personalausweis, Lohnsteuerbescheinigung) should only be selected if explicitly mentioned.
       - Exposé should be chosen if the text focuses on property descriptions, amenities, or real estate marketing.

    6. **Final Decision:**  
       - Select the **most relevant** category based on the dominant focus.
       - If no match is found, return `"NA"`.

    {text[:1500]}  
    Response format: Return only the category name, nothing else. If no match, return "NA".
"""

12

prompt = f"""
The following text is extracted from a document. Identify the category from the predefined categories:
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

If none of the categories apply, return "NA".

### Category Selection Rules:

1. **Exact Match (With OCR Error Handling):**  
If the document explicitly contains a term that matches or closely resembles one of the predefined categories, return that category immediately. Handle common OCR variations:
- "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
- "Baubeschreihbung" → "Baubeschreibung"
- "Grundrizz", "Grundrizz", "Grunriss" → "Grundriss"
- "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"

2. **Contextual Classification:**
- **Flurkarte:**  
Classify as **Flurkarte** if the text contains terms like:
  - "Flurstück", "Liegenschaftskarte", "Geobasisdaten", "Digitale Flurkarte", "Liegenschaftskataster", or "Maßstab".  
  - Mentions of **parcels**, **land plots**, **boundary lines**, or any cadastral mapping data.  

- **Exposé:** Prioritize this if the text primarily contains **property descriptions** (price, amenities, agent contact, nearby locations).  

- **Baubeschreibung:**  
Classify as Baubeschreibung if the text contains construction details like:
  - "Bauweise", "Dacheindeckung", "Fenster", "Heizung", or "Fußböden".
  - Or explicitly mentions **"Baubeschreibung"**, **"Rohbau"**, **"Fundamente"**, **"Decke"**, **"Dach"**, **"Wärmedämmung"**, or **"Estrich"**.

- **Grundriss:**  
Classify as Grundriss if the document focuses on:
  - **Layout plans**, **room distribution**, or **floor dimensions** without mentioning construction details or cadastral mapping.

3. **Identity Documents:**  
Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if the exact term (or its OCR variant) explicitly appears.

4. **Standardization:**  
Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

{text[:1500]}  
Response format: Return only the category name, nothing else. If no match, return "NA".
"""
13 
accurate for AUFENTHANTSTITEL, Energieausweis, Baubeschreibung
The following text is extracted from a document. Identify the category from the predefined categories:
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

        If none of the categories apply, return "NA".

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        If the document explicitly contains a term that matches or closely resembles one of the predefined categories, return that category immediately. Handle common OCR variations:
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
        - "Baubeschreihbung" → "Baubeschreibung"
        - "Grundrizz", "Grundrizz", "Grunriss" → "Grundriss"
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"

        2. **Contextual Classification:**
        - **Flurkarte:**  
        Classify as **Flurkarte** if the text contains terms like:
        - "Flurstück", "Liegenschaftskarte", "Geobasisdaten", "Digitale Flurkarte", "Liegenschaftskataster", or "Maßstab".  
        - Mentions of **parcels**, **land plots**, **boundary lines**, or any cadastral mapping data.  

        - **Exposé:** Classify as Exposé if the text includes **property details** such as:
            - **Price information** (e.g., "Kaufpreis", "Preis", "€")
            - **Real estate agency names** (e.g., "DAHLER", "Makler", "Immobilien")
            - **Location details** (e.g., "befindet sich in", "Ort", "Lage")
            - **Apartment/house descriptions** (e.g., "Wohnfläche", "Zimmer", "Baujahr", "Etage", "Stellplatz")
            - **Mentions of financing, commission, or sale details** (e.g., "Kaufvertrag", "Käuferprovision", "Hausgeld", "Maklergebühr")

        **Exposé should always take precedence over Wohnflachenberechnung.**  
        Even if the document contains "Wohnfläche", it should **only** be classified as "Wohnflachenberechnung" if it is a **technical calculation** or a standalone area measurement document.  
        If a document lists multiple apartments, their sizes, and property details, it must be classified as Exposé, even if "Wohnfläche" appears multiple times.

        - **Baubeschreibung:**  
        Classify as Baubeschreibung if the text contains construction details like:
        - "Bauweise", "Dacheindeckung", "Fenster", "Heizung", or "Fußböden".
        - Or explicitly mentions **"Baubeschreibung"**, **"Rohbau"**, **"Fundamente"**, **"Decke"**, **"Dach"**, **"Wärmedämmung"**, or **"Estrich"**.

        - **Grundriss:**  
        Classify as Grundriss if the document focuses on:
        - **Layout plans**, **room distribution**, or **floor dimensions** without mentioning construction details or cadastral mapping.

        3. **Identity Documents:**  
        Only classify as Passport, Personalausweis, or Lohnsteuerbescheinigung if the exact term (or its OCR variant) explicitly appears.

        4. **Standardization:**  
        Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

        {text[:1500]}  
        Response format: Return only the category name, nothing else. If no match, return "NA".

14

updated prompt with a refined Exposé classification while ensuring Aufenthaltstitel, Baubeschreibung, and Energieausweis remain unaffected.
prompt = f"""
The following text is extracted from a document. Identify the category from the predefined categories:
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

If none of the categories apply, return "NA".

### Category Selection Rules:

1. **Exact Match (With OCR Error Handling):**  
   If the document explicitly contains a term that matches or closely resembles one of the predefined categories, return that category immediately. Handle common OCR variations:
   - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
   - "Baubeschreihbung" → "Baubeschreibung"
   - "Grundrizz", "Grunriss" → "Grundriss"
   - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"

2. **Contextual Classification:**

   - **Exposé:**  
     Classify as **Exposé** if the text primarily contains **real estate listings** or **property advertisements** with information such as:
       - **Property price**
       - **Apartment or house descriptions** (number of rooms, amenities, location details)
       - **Contact information for real estate agents**
       - **Nearby locations and infrastructure**
       - **Real estate marketing terms** like “Luxuswohnung,” “Wohnensemble,” “Neubau,” “Erstbezug,” or “Exklusive Lage”
       - **Multiple apartments/houses listed with sizes (e.g., "Wohnfläche: 88 m²", "1-Zimmer-Wohnung")**
   
     - If the text includes **Wohnfläche (living space)** multiple times but also contains **pricing, location, or marketing descriptions**, classify as **Exposé**, NOT **Wohnflachenberechnung**.

     - If the document is **purely a Wohnflachenberechnung (living area calculation)** with no additional property listing details, then classify it as **Wohnflachenberechnung**.

   - **Flurkarte:**  
     Classify as **Flurkarte** if the text contains terms like:
     - "Flurstück", "Liegenschaftskarte", "Geobasisdaten", "Digitale Flurkarte", "Liegenschaftskataster", or "Maßstab".
     - Mentions of **parcels, land plots, boundary lines**, or **cadastral mapping data**.

   - **Baubeschreibung:**  
     Classify as **Baubeschreibung** if the text contains construction details like:
     - "Bauweise", "Dacheindeckung", "Fenster", "Heizung", "Fußböden".
     - Or explicitly mentions **"Baubeschreibung"**, **"Rohbau"**, **"Fundamente"**, **"Decke"**, **"Dach"**, **"Wärmedämmung"**, or **"Estrich"**.

   - **Grundriss:**  
     Classify as **Grundriss** if the document focuses on:
     - **Layout plans**, **room distribution**, or **floor dimensions** without mentioning construction details or cadastral mapping.

3. **Identity Documents:**  
   - Only classify as **Passport, Personalausweis, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.

4. **Standardization:**  
   - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

{text[:1500]}  
Response format: Return only the category name, nothing else. If no match, return "NA".
"""


14
working better for Aufenthaltstitel, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Kaufvertragsentwurf 

prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories:
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.

        If none of the categories apply, return "NA".

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        If the document explicitly contains a term that matches or closely resembles one of the predefined categories, return that category immediately. Handle common OCR variations:
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"
        - "Baubeschreihbung" → "Baubeschreibung"
        - "Grundrizz", "Grunriss" → "Grundriss"
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"

        2. **Contextual Classification:**

        -**Baubeschreibung**
            -Classify as Baubeschreibung if the text contains:
                -"BAUBESCHREIBUNG" explicitly.
                -Technical construction details, such as:
                    -"Rohbau," "Fundamente," "Dacheindeckung," "Fenster," "Heizung," "Isolierung," "Estrich," "Wärmedämmung," "Stahlbeton," "Mauerwerk," "Tiefgarage," "Dachstuhl," "Schallschutzziegel," "Bodenbeläge," "Kalksandstein"
            -Mentions of building materials, structural components, insulation techniques, or engineering details.
            -If "Baubeschreibung" appears anywhere in the text, classify it as Baubeschreibung immediately.
        -**Exposé**
            -Classify as Exposé if the text primarily describes:

                -Property listings or advertisements for real estate.
                -Key real estate details such as:
                    -"Wohnfläche," "Kaufpreis," "Provision," "Makler," "Lage," "Ausstattung," "Tiefgarage," "Balkon," "Energieeffizienz," "Miete," "Angebotspreis," "Grundstück"
                    -Lifestyle descriptions, e.g., "zentral eingebundene Lage," "moderne Architektur," "hochwertige Ausstattung," "komfortables Wohnen"
                    -Descriptions of nearby schools, transport, parks, or amenities.
        -**Do NOT classify as Exposé if**:
            -"BAUBESCHREIBUNG" appears in the text.
            -The document contains technical construction details (e.g., foundation, insulation, materials).
            -The focus is on engineering or structural descriptions rather than property marketing.

        - **Flurkarte:**  
            Classify as **Flurkarte** if the text contains terms like:
            - "Flurstück", "Liegenschaftskarte", "Geobasisdaten", "Digitale Flurkarte", "Liegenschaftskataster", or "Maßstab".
            - Mentions of **parcels, land plots, boundary lines**, or **cadastral mapping data**.

        - **Grundriss:**  
            Classify as **Grundriss** if the document focuses on:
            - **Layout plans**, **room distribution**, or **floor dimensions** without mentioning construction details or cadastral mapping.

        3. **Identity Documents:**  
        - Only classify as **Passport, Personalausweis, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.

        4. **Standardization:**  
        - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").

        {text[:1500]}  
        Response format: Return only the category name, nothing else. If no match, return "NA".
        """


14 for Kaufvertragsentwurf

The following text is extracted from a document. Identify the category from the predefined categories:  
Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

If none of the categories apply, return "NA".  

### Category Selection Rules:

1. **Exact Match (With OCR Error Handling):**  
   - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"  
   - "Baubeschreihbung" → "Baubeschreibung"  
   - "Grundrizz", "Grunriss" → "Grundriss"  
   - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"  

2. **Contextual Classification:**

   - **Kaufvertragsentwurf (Draft Sales Contract)**  
     Classify as **Kaufvertragsentwurf** if the document contains:  
     - Legal terms related to **property sales contracts** such as:  
       - "Notar", "beurkunde", "Kaufvertrag", "Verkäufer", "Erwerber", "Kaufgegenstand", "Eigentumsübertragung", "Miteigentumsanteil", "Übergang von Nutzen und Lasten", "Kaufpreis", "Verwalterzustimmung erforderlich", "Grundbuchinhalt", "Belastungen", "Wohnungs-/Teileigentumsgrundbuch".  
     - Mentions of **buyers (Käufer) and sellers (Verkäufer)** in a contractual context.  
     - Sections indicating **contractual obligations or notarization**.  
     - If "Kaufvertrag" or "beurkunde" appear, classify as **Kaufvertragsentwurf** immediately.  

   - **Exposé (Real Estate Listing/Advertisement)**  
     Classify as **Exposé** only if the text **primarily describes**:  
     - **Property listings, marketing materials, or sales advertisements**, containing:  
       - **"Wohnfläche", "Kaufpreis", "Provision", "Makler", "Lage", "Ausstattung", "Miete", "Energieeffizienz", "hochwertige Ausstattung", "komfortables Wohnen", "zentral eingebundene Lage"**.  
     - Lifestyle descriptions or **amenities-oriented language**.  
     - Mentions of **schools, transport, or parks near the property**.  

   - **Do NOT classify as Exposé if**:  
     - The document contains **contractual legal language** or mentions **notarization**.  
     - The text describes **ownership transfer, legal obligations, or official registry details**.  

3. **Identity Documents:**  
   - Only classify as **Passport, Personalausweis, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.  

4. **Standardization:**  
   - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").  

{text[:1500]}  
Response format: Return only the category name, nothing else. If no match, return "NA".  

15 
Personalausweis working good
- **Personalausweis**:
            - If "PERSONALAUSWEIS" appears anywhere in the text, classify it as "Personalausweis" immediately.
            - Do NOT classify as "Aufenthaltstitel" if "Personalausweis" is present.
            - If the text contains **"PERSONALAUSWEIS"** explicitly, classify it as **"Personalausweis"**.
            - Handle common OCR variations:
                - "PFRSONALAUSWEIS", "PERSONALAUSWELS", "PER5ONALAUSWEI5" → "Personalausweis".
            - If "BUNDESREPUBLIK DEUTSCHLAND" appears together with **"IDENTITY CARD"** or **"CARTED'IDENTITÉ"**, classify as **"Personalausweis"**.





--------------------------------------------------------------
the best as Far 

prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories:  
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

        If none of the categories apply, return "NA".  

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"  
        - "Baubeschreihbung" → "Baubeschreibung"  
        - "Grundrizz", "Grunriss" → "Grundriss"  
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"  

        2. **Contextual Classification:**

        - **Kaufvertragsentwurf (Draft Sales Contract)**  
            Classify as **Kaufvertragsentwurf** if the document contains:  
            - Legal terms related to **property sales contracts** such as:  
            - "Notar", "beurkunde", "Kaufvertrag", "Verkäufer", "Erwerber", "Kaufgegenstand", "Eigentumsübertragung", "Miteigentumsanteil", "Übergang von Nutzen und Lasten", "Kaufpreis", "Verwalterzustimmung erforderlich", "Grundbuchinhalt", "Belastungen", "Wohnungs-/Teileigentumsgrundbuch".  
            - Mentions of **buyers (Käufer) and sellers (Verkäufer)** in a contractual context.  
            - Sections indicating **contractual obligations or notarization**.  
            - If "Kaufvertrag" or "beurkunde" appear, classify as **Kaufvertragsentwurf** immediately.  

        - **Exposé (Real Estate Listing/Advertisement)**  
            Classify as **Exposé** only if the text **primarily describes**:  
            - **Property listings, marketing materials, or sales advertisements**, containing:  
            - **"Wohnfläche", "Kaufpreis", "Provision", "Makler", "Lage", "Ausstattung", "Miete", "Energieeffizienz", "hochwertige Ausstattung", "komfortables Wohnen", "zentral eingebundene Lage"**.  
            - Lifestyle descriptions or **amenities-oriented language**.  
            - Mentions of **schools, transport, or parks near the property**.  
        - **Personalausweis**:
            - If "PERSONALAUSWEIS" appears anywhere in the text, classify it as "Personalausweis" immediately.
            - Do NOT classify as "Aufenthaltstitel" if "Personalausweis" is present.
            - If the text contains **"PERSONALAUSWEIS"** explicitly, classify it as **"Personalausweis"**.
            - Handle common OCR variations:
                - "PFRSONALAUSWEIS", "PERSONALAUSWELS", "PER5ONALAUSWEI5" → "Personalausweis".
            - If "BUNDESREPUBLIK DEUTSCHLAND" appears together with **"IDENTITY CARD"** or **"CARTED'IDENTITÉ"**, classify as **"Personalausweis"**.


        - **Do NOT classify as Exposé if**:  
            - The document contains **contractual legal language** or mentions **notarization**.  
            - The text describes **ownership transfer, legal obligations, or official registry details**.  

        3. **Identity Documents:**  
        - Only classify as **Passport, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.  

        4. **Standardization:**  
        - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").  

        {text[:1500]}  
        Response format: Return only the category name, nothing else. If no match, return "NA".  
        """

-----------------------------------------------------------------------------------------
prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories:  
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

        If none of the categories apply, return "NA".  

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"  
        - "Baubeschreihbung" → "Baubeschreibung"  
        - "Grundrizz", "Grunriss" → "Grundriss"  
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"  

        2. **Contextual Classification:**

        - **Kaufvertragsentwurf (Draft Sales Contract)**  
            Classify as **Kaufvertragsentwurf** if the document contains:  
            - Legal terms related to **property sales contracts** such as:  
            - "Notar", "beurkunde", "Kaufvertrag", "Verkäufer", "Erwerber", "Eigentumsübertragung", "Miteigentumsanteil", "Übergang von Nutzen und Lasten", "Kaufpreis", "Verwalterzustimmung erforderlich", "Grundbuchinhalt", "Belastungen", "Wohnungs-/Teileigentumsgrundbuch".  
            - **Do NOT classify as "Kaufvertragsentwurf" if "Teilungserklärung" appears anywhere in the document, unless it is explicitly stated as a purchase contract.**  
            - Mentions of **buyers (Käufer) and sellers (Verkäufer)** in a contractual context.  
            - Sections indicating **contractual obligations or notarization**.  
            - If "Kaufvertrag" or "beurkunde" appear, classify as **Kaufvertragsentwurf** immediately.  

        - **Exposé (Real Estate Listing/Advertisement)**  
            Classify as **Exposé** only if the text **primarily describes**:  
            - **Property listings, marketing materials, or sales advertisements**, containing:  
            - **"Wohnfläche", "Kaufpreis", "Provision", "Makler", "Lage", "Ausstattung", "Miete", "Energieeffizienz", "hochwertige Ausstattung", "komfortables Wohnen", "zentral eingebundene Lage"**.  
            - Lifestyle descriptions or **amenities-oriented language**.  
            - Mentions of **schools, transport, or parks near the property**.  
        - **Personalausweis**:
            - If "PERSONALAUSWEIS" appears anywhere in the text, classify it as "Personalausweis" immediately.
            - Do NOT classify as "Aufenthaltstitel" if "Personalausweis" is present.
            - If the text contains **"PERSONALAUSWEIS"** explicitly, classify it as **"Personalausweis"**.
            - Handle common OCR variations:
                - "PFRSONALAUSWEIS", "PERSONALAUSWELS", "PER5ONALAUSWEI5" → "Personalausweis".
            - If "BUNDESREPUBLIK DEUTSCHLAND" appears together with **"IDENTITY CARD"** or **"CARTED'IDENTITÉ"**, classify as **"Personalausweis"**.
        - **Flurkarte (Cadastral Map)**  
            Classify as **Flurkarte** if the document contains:  
            - **"Katasterkartenwerk", "Flurkarte", "Flurstück", "Flurstock", "Gemarkung", "Vermessungsamt", "Maßstab", "Lageplan", "Grenzen"**.  
            - Mentions of **land parcels, surveying offices, or boundary descriptions**.  
            - Scale information such as **"Maßstab 1:"** indicating a mapped representation.  

        - **Do NOT classify as "Grundbuchauszug" if:**  
            - The document primarily contains **map-related terms** instead of ownership/registry details.  
            - There are no references to **owners, legal claims, or notarial records**.  

        - **Grundbuchauszug (Land Register Extract)**  
            Classify as **Grundbuchauszug** only if the document contains:  
            - **"Grundbuch", "Eigentümer", "Grundbuchblatt", "Flurstücknummer", "Belastungen", "Notarielle Urkunde"**.  
            - Mentions of **ownership details, mortgages, easements, or legal claims on the property**.  

            - **Do NOT classify as "Grundbuchauszug" if:**  
                - The document primarily contains **map-related terms (e.g., "Katasterkartenwerk")** without legal registry details.  
                - It appears to be a **survey map or cadastral reference** rather than an ownership extract.  

        
        - **Do NOT classify as Exposé if**:  
            - The document contains **contractual legal language** or mentions **notarization**.  
            - The text describes **ownership transfer, legal obligations, or official registry details**.  

        3. **Identity Documents:**  
        - Only classify as **Passport, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.  

        4. **Standardization:**  
        - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").  

        {text[:1500]}  
        Response format: Return only the category name, nothing else. If no match, return "NA".  
        """

------------------------------------------------




prompt = f"""
        The following text is extracted from a document. Identify the category from the predefined categories:  
        **Rules:**
            - The output **must be exactly one of these categories**:
            Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklärung, Wohnflächenberechnung.
            - **Return the exact category name** from the list above. Do not modify, shorten, or approximate the name.
            - If unsure, return `"NA"`, but do not create new categories.

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"  
        - "Baubeschreihbung" → "Baubeschreibung"  
        - "Grundrizz", "Grunriss" → "Grundriss"  
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"  

        2. **Contextual Classification:**

        - **Kaufvertragsentwurf (Draft Sales Contract)**  
            Classify as **Kaufvertragsentwurf** if the document contains:  
            - Legal terms related to **property sales contracts** such as:  
            - "Notar", "beurkunde", "Kaufvertrag", "Verkäufer", "Erwerber", "Eigentumsübertragung", "Miteigentumsanteil", "Übergang von Nutzen und Lasten", "Kaufpreis", "Verwalterzustimmung erforderlich", "Grundbuchinhalt", "Belastungen", "Wohnungs-/Teileigentumsgrundbuch".  
            - **Do NOT classify as "Kaufvertragsentwurf" if "Teilungserklärung" appears anywhere in the document, unless it is explicitly stated as a purchase contract.**  
            - Mentions of **buyers (Käufer) and sellers (Verkäufer)** in a contractual context.  
            - Sections indicating **contractual obligations or notarization**.  
            - If "Kaufvertrag" or "beurkunde" appear, classify as **Kaufvertragsentwurf** immediately.  

        - **Exposé (Real Estate Listing/Advertisement)**  
            Classify as **Exposé** only if the text **primarily describes**:  
            - **Property listings, marketing materials, or sales advertisements**, containing:  
            - **"Wohnfläche", "Kaufpreis", "Provision", "Makler", "Lage", "Ausstattung", "Miete", "Energieeffizienz", "hochwertige Ausstattung", "komfortables Wohnen", "zentral eingebundene Lage"**.  
            - Lifestyle descriptions or **amenities-oriented language**.  
            - Mentions of **schools, transport, or parks near the property**.  
        - **Personalausweis**:
            - If "PERSONALAUSWEIS" appears anywhere in the text, classify it as "Personalausweis" immediately.
            - Do NOT classify as "Aufenthaltstitel" if "Personalausweis" is present.
            - If the text contains **"PERSONALAUSWEIS"** explicitly, classify it as **"Personalausweis"**.
            - Handle common OCR variations:
                - "PFRSONALAUSWEIS", "PERSONALAUSWELS", "PER5ONALAUSWEI5" → "Personalausweis".
            - If "BUNDESREPUBLIK DEUTSCHLAND" appears together with **"IDENTITY CARD"** or **"CARTED'IDENTITÉ"**, classify as **"Personalausweis"**.
        - **Flurkarte (Cadastral Map)**  
            Classify as **Flurkarte** if the document contains:  
            - **"Katasterkartenwerk", "Flurkarte", "Flurstück", "Flurstock", "Gemarkung", "Vermessungsamt", "Maßstab", "Lageplan", "Grenzen"**.  
            - Mentions of **land parcels, surveying offices, or boundary descriptions**.  
            - Scale information such as **"Maßstab 1:"** indicating a mapped representation.  

            - **Do NOT classify as "Grundbuchauszug" if:**  
                - The document primarily contains **map-related terms** instead of ownership/registry details.  
                - There are no references to **owners, legal claims, or notarial records**.  

        - **Grundbuchauszug (Land Register Extract)**  
            Classify as **Grundbuchauszug** only if the document contains:  
            - **"Grundbuch", "Eigentümer", "Grundbuchblatt", "Flurstücknummer", "Belastungen", "Notarielle Urkunde"**.  
            - Mentions of **ownership details, mortgages, easements, or legal claims on the property**.  

            - **Do NOT classify as "Grundbuchauszug" if:**  
                - The document primarily contains **map-related terms (e.g., "Katasterkartenwerk")** without legal registry details.  
                - It appears to be a **survey map or cadastral reference** rather than an ownership extract.  

        -- **Wohnflächenberechnung (Living Area Calculation Report)**  
            - Classify as **Wohnflächenberechnung** if the document contains:  
            - `"Wohnflächenberechnung"`, `"WoFIV"`, `"Gesamte Wohnfläche"`, `"m²"`, `"Raum", "Länge", "Breite", "Höhe"`  
            - Area calculation tables with values like `"1m", "2m", "Flächen unter 1m", "Plausibilitätskontrolle"`  
            - **Do NOT classify as "Aufteilungsplan" or "Grundbuchauszug" if the document only contains area measurements without legal ownership details.**

        
        - **Do NOT classify as Exposé if**:  
            - The document contains **contractual legal language** or mentions **notarization**.  
            - The text describes **ownership transfer, legal obligations, or official registry details**.  

        3. **Identity Documents:**  
        - Only classify as **Passport, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.  

        4. **Standardization:**  
        - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").  
        - Return the category in the exact predefined form (e.g., "Wohnflachenberechnung" instead of "Wohnflächenberechnung").  
        - **If the correct category is "Wohnflächenberechnung", but you are about to return "Wohnflache", instead return "Wohnflächenberechnung".**
        {text[:1500]}  
        Response format: Return only the category name, nothing else. If no match, return "NA".    
        """

----------------------------------------------------------------
not correct
The following text is extracted from a document. Identify the category from the predefined categories:  
        **Rules:**
            - The output **must be exactly one of these categories**:
            Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, Payslip, Personalausweis, Teilungserklärung, Wohnflächenberechnung.
            - **Return the exact category name** from the list above. Do not modify, shorten, or approximate the name.
            - If the document contains **salary breakdowns, tax deductions, or employer-related payment information**, classify it as `"payslip"` instead of `"NA"`.
            - **Do NOT return `"NA"` if "Lohnabrechnung", "Entgeltabrechnung", "Gehaltsabrechnung", "Brutto/Netto", or "Techniker Krankenkasse" appear. Instead, return `"payslip"`**.
            - Return only the category name, **nothing else**. If no match, return "NA".
            

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"  
        - "Baubeschreihbung" → "Baubeschreibung"  
        - "Grundrizz", "Grunriss" → "Grundriss"  
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"  
        - "LOHNABRECHNUNG", "LOHNABRECHUN6", "L0HNABRECHNUNG", "GEHALTSABRECHNUNG", "ENTGELTABRECHNUNG", "GEHALTSABRECHNUN6", "ENTGELTBESCHEINIGUNG", "DATEV-ABRECHNUNG", "BRUTTO/NETTO" → **"payslip"**  
  


        2. **Contextual Classification:**

        ### Payslip (Lohnabrechnung, Entgeltabrechnung, Gehaltsabrechnung)  
        - **This category includes salary statements, wage slips, or earnings summaries.**  
        - If the text contains any of these terms, classify it as `"payslip"`:  
        - **"Entgeltabrechnung"**, **"Gehaltsabrechnung"**, **"Lohnabrechnung"**  
        - **"Brutto/Netto"**, **"Gesamtbrutto"**, **"Gesamtnetto"**  
        - **"Steuerklasse"**, **"Sozialversicherung"**, **"Krankenversicherung"**, **"Kirchensteuer"**  
        - **"Techniker Krankenkasse"**, **"DATEV"**, **"Steuer-ID"**, **"Einkommensteuer"**  
        - **If the document contains salary breakdowns, net/gross earnings, or tax deductions, classify it as `"payslip"`.**  
        - **Do not return `"NA"` for such documents.**  


        - **Kaufvertragsentwurf (Draft Sales Contract)**  
            Classify as **Kaufvertragsentwurf** if the document contains:  
            - Legal terms related to **property sales contracts** such as:  
            - "Notar", "beurkunde", "Kaufvertrag", "Verkäufer", "Erwerber", "Eigentumsübertragung", "Miteigentumsanteil", "Übergang von Nutzen und Lasten", "Kaufpreis", "Verwalterzustimmung erforderlich", "Grundbuchinhalt", "Belastungen", "Wohnungs-/Teileigentumsgrundbuch".  
            - **Do NOT classify as "Kaufvertragsentwurf" if "Teilungserklärung" appears anywhere in the document, unless it is explicitly stated as a purchase contract.**  
            - Mentions of **buyers (Käufer) and sellers (Verkäufer)** in a contractual context.  
            - Sections indicating **contractual obligations or notarization**.  
            - If "Kaufvertrag" or "beurkunde" appear, classify as **Kaufvertragsentwurf** immediately.  

        - **Exposé (Real Estate Listing/Advertisement)**  
            Classify as **Exposé** only if the text **primarily describes**:  
            - **Property listings, marketing materials, or sales advertisements**, containing:  
            - **"Wohnfläche", "Kaufpreis", "Provision", "Makler", "Lage", "Ausstattung", "Miete", "Energieeffizienz", "hochwertige Ausstattung", "komfortables Wohnen", "zentral eingebundene Lage"**.  
            - Lifestyle descriptions or **amenities-oriented language**.  
            - Mentions of **schools, transport, or parks near the property**.  
        - **Personalausweis**:
            - If "PERSONALAUSWEIS" appears anywhere in the text, classify it as "Personalausweis" immediately.
            - Do NOT classify as "Aufenthaltstitel" if "Personalausweis" is present.
            - If the text contains **"PERSONALAUSWEIS"** explicitly, classify it as **"Personalausweis"**.
            - Handle common OCR variations:
                - "PFRSONALAUSWEIS", "PERSONALAUSWELS", "PER5ONALAUSWEI5" → "Personalausweis".
            - If "BUNDESREPUBLIK DEUTSCHLAND" appears together with **"IDENTITY CARD"** or **"CARTED'IDENTITÉ"**, classify as **"Personalausweis"**.
        - **Flurkarte (Cadastral Map)**  
            Classify as **Flurkarte** if the document contains:  
            - **"Katasterkartenwerk", "Flurkarte", "Flurstück", "Flurstock", "Gemarkung", "Vermessungsamt", "Maßstab", "Lageplan", "Grenzen"**.  
            - Mentions of **land parcels, surveying offices, or boundary descriptions**.  
            - Scale information such as **"Maßstab 1:"** indicating a mapped representation.  

            - **Do NOT classify as "Grundbuchauszug" if:**  
                - The document primarily contains **map-related terms** instead of ownership/registry details.  
                - There are no references to **owners, legal claims, or notarial records**.  

        - **Grundbuchauszug (Land Register Extract)**  
            Classify as **Grundbuchauszug** only if the document contains:  
            - **"Grundbuch", "Eigentümer", "Grundbuchblatt", "Flurstücknummer", "Belastungen", "Notarielle Urkunde"**.  
            - Mentions of **ownership details, mortgages, easements, or legal claims on the property**.  

            - **Do NOT classify as "Grundbuchauszug" if:**  
                - The document primarily contains **map-related terms (e.g., "Katasterkartenwerk")** without legal registry details.  
                - It appears to be a **survey map or cadastral reference** rather than an ownership extract.  

        -- **Wohnflächenberechnung (Living Area Calculation Report)**  
            - Classify as **Wohnflächenberechnung** if the document contains:  
            - `"Wohnflächenberechnung"`, `"WoFIV"`, `"Gesamte Wohnfläche"`, `"m²"`, `"Raum", "Länge", "Breite", "Höhe"`  
            - Area calculation tables with values like `"1m", "2m", "Flächen unter 1m", "Plausibilitätskontrolle"`  
            - **Do NOT classify as "Aufteilungsplan" or "Grundbuchauszug" if the document only contains area measurements without legal ownership details.**

        
        - **Do NOT classify as Exposé if**:  
            - The document contains **contractual legal language** or mentions **notarization**.  
            - The text describes **ownership transfer, legal obligations, or official registry details**.  

        3. **Identity Documents:**  
        - Only classify as **Passport, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.  

        4. **Standardization:**  
        - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").  
        - Return the category in the exact predefined form (e.g., "Wohnflachenberechnung" instead of "Wohnflächenberechnung").  
        - **If the correct category is "Wohnflächenberechnung", but you are about to return "Wohnflache", instead return "Wohnflächenberechnung".**
        {text[:3000]}  
        Response format: Return only the category name, **nothing else**. If no match, return "NA".   


-----------------------------------------------------------------------------------------
for payslip, but not finished

You are an expert in document classification. Your task is to analyze the given text and assign the correct category from the following predefined categories:

        1. Aufenthaltstitel  
        2. Aufteilungsplan  
        3. Baubeschreibung  
        4. Energieausweis  
        5. Exposé  
        6. Flurkarte  
        7. Grundbuchauszug  
        8. Grundriss  
        9. Kaufvertragsentwurf  
        10. Lohnsteuerbescheinigung  
        11. Passport  
        12. Payslip  
        13. Personalausweis  
        14. Teilungserklärung  
        15. Wohnflächenberechnung  

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"  
        - "Baubeschreihbung" → "Baubeschreibung"  
        - "Grundrizz", "Grunriss" → "Grundriss"  
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"  

        2. **Contextual Classification:**

        **Classification Criteria for Each Category:**
        **Rules for Classification: Payslip & Lohnsteuerbescheinigung**
            1. **Lohnsteuerbescheinigung** must contain:
            - The word "Lohnsteuerbescheinigung"
            - Phrases like "Bescheinigung für das Finanzamt", "Steuerbescheinigung", or "maschinell an die Finanzverwaltung übermittelt"
            - A summary of yearly tax amounts (e.g., Steuerklasse, Kirchensteuer, Solidaritätszuschlag)
            - A reference to a complete tax year (e.g., "01.01.-31.12.")

            2. **Payslip** must contain:
            - The words **"Entgeltabrechnung"**, **"Gehaltsabrechnung"**, **"Abrechnung"**, **"Vergütungsabrechnung"**, or **"Lohnabrechnung"**  
            - Monthly breakdowns of salary components, including terms like **"Gesamtbrutto"**, **"Netto"**, **"Lohnart"**, **"Abzüge"**, and **"Zahlungen"**  
            - Bank transfer details related to salary payments (e.g., **"Banküberweisung"**, **"IBAN"**, or **"Betrag"**)  
            - **No mention of a full-year tax summary (e.g., 01.01.-31.12.)** 
                ⚠️ **Avoid Common Misclassifications:**  
                - If a document has **both payroll and tax-related details**, classify based on the **dominant content**.  
                - If it's mainly **about tax details**, choose `"Lohnsteuerbescheinigung"`.  
                - If it's mainly **about salary breakdowns and earnings**, choose `"Payslip"`. 

            3. **Kaufvertragsentwurf (Draft Sales Contract)**  
                Classify as **Kaufvertragsentwurf** if the document contains:  
                - Legal terms related to **property sales contracts** such as:  
                - "Notar", "beurkunde", "Kaufvertrag", "Verkäufer", "Erwerber", "Eigentumsübertragung", "Miteigentumsanteil", "Übergang von Nutzen und Lasten", "Kaufpreis", "Verwalterzustimmung erforderlich", "Grundbuchinhalt", "Belastungen", "Wohnungs-/Teileigentumsgrundbuch".  
                - **Do NOT classify as "Kaufvertragsentwurf" if "Teilungserklärung" appears anywhere in the document, unless it is explicitly stated as a purchase contract.**  
                - Mentions of **buyers (Käufer) and sellers (Verkäufer)** in a contractual context.  
                - Sections indicating **contractual obligations or notarization**.  
                - If "Kaufvertrag" or "beurkunde" appear, classify as **Kaufvertragsentwurf** immediately.  

            4. **Exposé (Real Estate Listing/Advertisement)**  
                Classify as **Exposé** only if the text **primarily describes**:  
                - **Property listings, marketing materials, or sales advertisements**, containing:  
                - **"Wohnfläche", "Kaufpreis", "Provision", "Makler", "Lage", "Ausstattung", "Miete", "Energieeffizienz", "hochwertige Ausstattung", "komfortables Wohnen", "zentral eingebundene Lage"**.  
                - Lifestyle descriptions or **amenities-oriented language**.  
                - Mentions of **schools, transport, or parks near the property**.  
            5. **Personalausweis**:
                - If "PERSONALAUSWEIS" appears anywhere in the text, classify it as "Personalausweis" immediately.
                - Do NOT classify as "Aufenthaltstitel" if "Personalausweis" is present.
                - If the text contains **"PERSONALAUSWEIS"** explicitly, classify it as **"Personalausweis"**.
                - Handle common OCR variations:
                    - "PFRSONALAUSWEIS", "PERSONALAUSWELS", "PER5ONALAUSWEI5" → "Personalausweis".
                - If "BUNDESREPUBLIK DEUTSCHLAND" appears together with **"IDENTITY CARD"** or **"CARTED'IDENTITÉ"**, classify as **"Personalausweis"**.
            6. **Flurkarte (Cadastral Map)**  
                Classify as **Flurkarte** if the document contains:  
                - **"Katasterkartenwerk", "Flurkarte", "Flurstück", "Flurstock", "Gemarkung", "Vermessungsamt", "Maßstab", "Lageplan", "Grenzen"**.  
                - Mentions of **land parcels, surveying offices, or boundary descriptions**.  
                - Scale information such as **"Maßstab 1:"** indicating a mapped representation.  

                - **Do NOT classify as "Grundbuchauszug" if:**  
                    - The document primarily contains **map-related terms** instead of ownership/registry details.  
                    - There are no references to **owners, legal claims, or notarial records**.  

            7. **Grundbuchauszug (Land Register Extract)**  
                Classify as **Grundbuchauszug** only if the document contains:  
                - **"Grundbuch", "Eigentümer", "Grundbuchblatt", "Flurstücknummer", "Belastungen", "Notarielle Urkunde"**.  
                - Mentions of **ownership details, mortgages, easements, or legal claims on the property**.  

                - **Do NOT classify as "Grundbuchauszug" if:**  
                    - The document primarily contains **map-related terms (e.g., "Katasterkartenwerk")** without legal registry details.  
                    - It appears to be a **survey map or cadastral reference** rather than an ownership extract.  

            8. **Wohnflächenberechnung (Living Area Calculation Report)**  
                - Classify as **Wohnflächenberechnung** if the document contains:  
                - `"Wohnflächenberechnung"`, `"WoFIV"`, `"Gesamte Wohnfläche"`, `"m²"`, `"Raum", "Länge", "Breite", "Höhe"`  
                - Area calculation tables with values like `"1m", "2m", "Flächen unter 1m", "Plausibilitätskontrolle"`  
                - **Do NOT classify as "Aufteilungsplan" or "Grundbuchauszug" if the document only contains area measurements without legal ownership details.**

            
            - **Do NOT classify as Exposé if**:  
                - The document contains **contractual legal language** or mentions **notarization**.  
                - The text describes **ownership transfer, legal obligations, or official registry details**.  

        3. **Identity Documents:**  
        - Only classify as **Passport if the exact term (or its OCR variant) explicitly appears.  

        4. **Standardization:**  
            - Return **only the most relevant category name** without any additional text. If the text does not match any category, return `"NA"`. 

        **Input Text:**  

        {text[:1500]}  
        Response format: Return only the category name, nothing else. If no match, return "NA".




-------------------------------------------------------------------------------all the categories are mentioned

The following text is extracted from a document. Identify the category from the predefined categories:  
        Aufenthaltstitel, Aufteilungsplan, Baubeschreibung, Energieausweis, Exposé, Flurkarte, Grundbuchauszug, Grundriss, Kaufvertragsentwurf, Lohnsteuerbescheinigung, Passport, payslip, Personalausweis, Teilungserklarung, Wohnflachenberechnung.  

        If none of the categories apply, return "NA".  

        ### Category Selection Rules:

        1. **Exact Match (With OCR Error Handling):**  
        - "AUFENTHANTSTITEI", "AUFENTHANTSTITEL" → "Aufenthaltstitel"  
        - "Baubeschreihbung" → "Baubeschreibung"  
        - "Grundrizz", "Grunriss" → "Grundriss"  
        - "ENERGIEAUSWEI5", "ENERGIE AUSWEIS" → "Energieausweis"  

        2. **Contextual Classification:**

        -**Baubeschreibung**
            -Classify as Baubeschreibung if the text contains:
                -"BAUBESCHREIBUNG" explicitly.
                -Technical construction details, such as:
                    -"Rohbau," "Fundamente," "Dacheindeckung," "Fenster," "Heizung," "Isolierung," "Estrich," "Wärmedämmung," "Stahlbeton," "Mauerwerk," "Tiefgarage," "Dachstuhl," "Schallschutzziegel," "Bodenbeläge," "Kalksandstein"
            -Mentions of building materials, structural components, insulation techniques, or engineering details.
            -If "Baubeschreibung" appears anywhere in the text, classify it as Baubeschreibung immediately.
        -**Exposé**
            -Classify as Exposé if the text primarily describes:

                -Property listings or advertisements for real estate.
                -Key real estate details such as:
                    -"Wohnfläche," "Kaufpreis," "Provision," "Makler," "Lage," "Ausstattung," "Tiefgarage," "Balkon," "Energieeffizienz," "Miete," "Angebotspreis," "Grundstück"
                    -Lifestyle descriptions, e.g., "zentral eingebundene Lage," "moderne Architektur," "hochwertige Ausstattung," "komfortables Wohnen"
                    -Descriptions of nearby schools, transport, parks, or amenities.
        -**Do NOT classify as Exposé if**:
            -"BAUBESCHREIBUNG" appears in the text.
            -The document contains technical construction details (e.g., foundation, insulation, materials).
            -The focus is on engineering or structural descriptions rather than property marketing.

        - **Kaufvertragsentwurf (Draft Sales Contract)**  
            Classify as **Kaufvertragsentwurf** if the document contains:  
            - Legal terms related to **property sales contracts** such as:  
            - "Notar", "beurkunde", "Kaufvertrag", "Verkäufer", "Erwerber", "Kaufgegenstand", "Eigentumsübertragung", "Miteigentumsanteil", "Übergang von Nutzen und Lasten", "Kaufpreis", "Verwalterzustimmung erforderlich", "Grundbuchinhalt", "Belastungen", "Wohnungs-/Teileigentumsgrundbuch".  
            - Mentions of **buyers (Käufer) and sellers (Verkäufer)** in a contractual context.  
            - Sections indicating **contractual obligations or notarization**.  
            - If "Kaufvertrag" or "beurkunde" appear, classify as **Kaufvertragsentwurf** immediately.  

        - **Flurkarte (Cadastral Map)**  
            Classify as **Flurkarte** if the document contains:  
            - **"Katasterkartenwerk", "Flurkarte", "Flurstück", "Flurstock", "Gemarkung", "Vermessungsamt", "Maßstab", "Lageplan", "Grenzen"**.  
            - Mentions of **land parcels, surveying offices, or boundary descriptions**.  
            - Scale information such as **"Maßstab 1:"** indicating a mapped representation.  

            - **Do NOT classify as "Grundbuchauszug" if:**  
                - The document primarily contains **map-related terms** instead of ownership/registry details.  
                - There are no references to **owners, legal claims, or notarial records**.  

        - **Grundbuchauszug (Land Register Extract)**  
            Classify as **Grundbuchauszug** only if the document contains:  
            - **"Grundbuch", "Eigentümer", "Grundbuchblatt", "Flurstücknummer", "Belastungen", "Notarielle Urkunde"**.  
            - Mentions of **ownership details, mortgages, easements, or legal claims on the property**.  

            - **Do NOT classify as "Grundbuchauszug" if:**  
                - The document primarily contains **map-related terms (e.g., "Katasterkartenwerk")** without legal registry details.  
                - It appears to be a **survey map or cadastral reference** rather than an ownership extract.  

        - **Wohnflachenberechnung(Living Area Calculation Report)**  
            - Classify as **Wohnflachenberechnung** if the document contains:  
            - `"Wohnflachenberechnung"`, `"WoFIV"`, `"Gesamte Wohnfläche"`, `"m²"`, `"Raum", "Länge", "Breite", "Höhe"`  
            - Area calculation tables with values like `"1m", "2m", "Flächen unter 1m", "Plausibilitätskontrolle"`  
            - **Do NOT classify as "Aufteilungsplan" or "Grundbuchauszug" if the document only contains area measurements without legal ownership details.**

        - **Personalausweis**:
            - If "PERSONALAUSWEIS" appears anywhere in the text, classify it as "Personalausweis" immediately.
            - Do NOT classify as "Aufenthaltstitel" if "Personalausweis" is present.
            - If the text contains **"PERSONALAUSWEIS"** explicitly, classify it as **"Personalausweis"**.
            - Handle common OCR variations:
                - "PFRSONALAUSWEIS", "PERSONALAUSWELS", "PER5ONALAUSWEI5" → "Personalausweis".
            - If "BUNDESREPUBLIK DEUTSCHLAND" appears together with **"IDENTITY CARD"** or **"CARTED'IDENTITÉ"**, classify as **"Personalausweis"**.

        - **Do NOT classify as Exposé if**:  
            - The document contains **contractual legal language** or mentions **notarization**.  
            - The text describes **ownership transfer, legal obligations, or official registry details**.  

        3. **Identity Documents:**  
        - Only classify as **Passport, or Lohnsteuerbescheinigung** if the exact term (or its OCR variant) explicitly appears.  

        4. **Standardization:**  
        - Return the category in the exact predefined form (e.g., "Teilungserklarung" instead of "Teilungserklärung").  

        {text[:1500]}  
        Response format: Return only the category name, nothing else. If no match, return "NA". 